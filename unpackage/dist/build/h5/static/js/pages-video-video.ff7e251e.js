(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-video-video"],{"0be9":function(e,t,a){"use strict";a.r(t);var i=a("1a02"),n=a("0e17");for(var o in n)"default"!==o&&function(e){a.d(t,e,(function(){return n[e]}))}(o);a("2248");var r,d=a("f0c5"),s=Object(d["a"])(n["default"],i["b"],i["c"],!1,null,"6d5ba6a0",null,!1,i["a"],r);t["default"]=s.exports},"0e17":function(e,t,a){"use strict";a.r(t);var i=a("7b7e"),n=a.n(i);for(var o in i)"default"!==o&&function(e){a.d(t,e,(function(){return i[e]}))}(o);t["default"]=n.a},1627:function(e,t,a){var i=a("6ee6");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var n=a("4f06").default;n("66c6dd98",i,!0,{sourceMap:!1,shadowMode:!1})},"1a02":function(e,t,a){"use strict";var i,n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-uni-view",{staticClass:"uni-load-more"},[a("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:"loading"===e.status&&e.showIcon,expression:"status === 'loading' && showIcon"}],staticClass:"uni-load-more__img"},[a("v-uni-view",{staticClass:"load1 load"},[a("v-uni-view",{staticClass:"uni-load-view_wrapper",style:{background:e.color}}),a("v-uni-view",{staticClass:"uni-load-view_wrapper",style:{background:e.color}}),a("v-uni-view",{staticClass:"uni-load-view_wrapper",style:{background:e.color}}),a("v-uni-view",{staticClass:"uni-load-view_wrapper",style:{background:e.color}})],1),a("v-uni-view",{staticClass:"load2 load"},[a("v-uni-view",{staticClass:"uni-load-view_wrapper",style:{background:e.color}}),a("v-uni-view",{staticClass:"uni-load-view_wrapper",style:{background:e.color}}),a("v-uni-view",{staticClass:"uni-load-view_wrapper",style:{background:e.color}}),a("v-uni-view",{staticClass:"uni-load-view_wrapper",style:{background:e.color}})],1),a("v-uni-view",{staticClass:"load3 load"},[a("v-uni-view",{staticClass:"uni-load-view_wrapper",style:{background:e.color}}),a("v-uni-view",{staticClass:"uni-load-view_wrapper",style:{background:e.color}}),a("v-uni-view",{staticClass:"uni-load-view_wrapper",style:{background:e.color}}),a("v-uni-view",{staticClass:"uni-load-view_wrapper",style:{background:e.color}})],1)],1),a("v-uni-text",{staticClass:"uni-load-more__text",style:{color:e.color}},[e._v(e._s("more"===e.status?e.contentText.contentdown:"loading"===e.status?e.contentText.contentrefresh:e.contentText.contentnomore))])],1)},o=[];a.d(t,"b",(function(){return n})),a.d(t,"c",(function(){return o})),a.d(t,"a",(function(){return i}))},2248:function(e,t,a){"use strict";var i=a("5049"),n=a.n(i);n.a},"234c":function(e,t,a){var i=a("24fb");t=i(!1),t.push([e.i,".uni-load-more[data-v-6d5ba6a0]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;height:%?80?%;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center}.uni-load-more__text[data-v-6d5ba6a0]{font-size:%?28?%;color:#999}.uni-load-more__img[data-v-6d5ba6a0]{height:24px;width:24px;margin-right:10px}.uni-load-more__img>.load[data-v-6d5ba6a0]{position:absolute}.uni-load-more__img>.load .uni-load-view_wrapper[data-v-6d5ba6a0]{width:6px;height:2px;border-top-left-radius:1px;border-bottom-left-radius:1px;background:#999;position:absolute;opacity:.2;-webkit-transform-origin:50%;transform-origin:50%;-webkit-animation:load-data-v-6d5ba6a0 1.56s ease infinite;animation:load-data-v-6d5ba6a0 1.56s ease infinite}.uni-load-more__img>.load .uni-load-view_wrapper[data-v-6d5ba6a0]:nth-child(1){-webkit-transform:rotate(90deg);transform:rotate(90deg);top:2px;left:9px}.uni-load-more__img>.load .uni-load-view_wrapper[data-v-6d5ba6a0]:nth-child(2){-webkit-transform:rotate(180deg);transform:rotate(180deg);top:11px;right:0}.uni-load-more__img>.load .uni-load-view_wrapper[data-v-6d5ba6a0]:nth-child(3){-webkit-transform:rotate(270deg);transform:rotate(270deg);bottom:2px;left:9px}.uni-load-more__img>.load .uni-load-view_wrapper[data-v-6d5ba6a0]:nth-child(4){top:11px;left:0}.load1[data-v-6d5ba6a0],\n.load2[data-v-6d5ba6a0],\n.load3[data-v-6d5ba6a0]{height:24px;width:24px}.load2[data-v-6d5ba6a0]{-webkit-transform:rotate(30deg);transform:rotate(30deg)}.load3[data-v-6d5ba6a0]{-webkit-transform:rotate(60deg);transform:rotate(60deg)}.load1 .uni-load-view_wrapper[data-v-6d5ba6a0]:nth-child(1){-webkit-animation-delay:0s;animation-delay:0s}.load2 .uni-load-view_wrapper[data-v-6d5ba6a0]:nth-child(1){-webkit-animation-delay:.13s;animation-delay:.13s}.load3 .uni-load-view_wrapper[data-v-6d5ba6a0]:nth-child(1){-webkit-animation-delay:.26s;animation-delay:.26s}.load1 .uni-load-view_wrapper[data-v-6d5ba6a0]:nth-child(2){-webkit-animation-delay:.39s;animation-delay:.39s}.load2 .uni-load-view_wrapper[data-v-6d5ba6a0]:nth-child(2){-webkit-animation-delay:.52s;animation-delay:.52s}.load3 .uni-load-view_wrapper[data-v-6d5ba6a0]:nth-child(2){-webkit-animation-delay:.65s;animation-delay:.65s}.load1 .uni-load-view_wrapper[data-v-6d5ba6a0]:nth-child(3){-webkit-animation-delay:.78s;animation-delay:.78s}.load2 .uni-load-view_wrapper[data-v-6d5ba6a0]:nth-child(3){-webkit-animation-delay:.91s;animation-delay:.91s}.load3 .uni-load-view_wrapper[data-v-6d5ba6a0]:nth-child(3){-webkit-animation-delay:1.04s;animation-delay:1.04s}.load1 .uni-load-view_wrapper[data-v-6d5ba6a0]:nth-child(4){-webkit-animation-delay:1.17s;animation-delay:1.17s}.load2 .uni-load-view_wrapper[data-v-6d5ba6a0]:nth-child(4){-webkit-animation-delay:1.3s;animation-delay:1.3s}.load3 .uni-load-view_wrapper[data-v-6d5ba6a0]:nth-child(4){-webkit-animation-delay:1.43s;animation-delay:1.43s}@-webkit-keyframes load-data-v-6d5ba6a0{0%{opacity:1}100%{opacity:.2}}",""]),e.exports=t},"249f":function(e,t,a){"use strict";var i=a("ee27");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("96cf");var n=i(a("c964")),o=a("e109"),r={name:"loginModal",props:["show"],data:function(){return{appId:"wx685226499ed8d55c",mobile:"",openId:"",code:"",openid:"",session_key:"",manager:""}},methods:{GetPhoneNumber:function(e){if(console.log(e),"getPhoneNumber:fail user deny"==e.detail.errMsg)uni.showModal({title:"提示",showCancel:!0,content:"您取消了授权"});else{var t=new o(this.appId,this.session_key),a=t.decryptData(e.detail.encryptedData,e.detail.iv);this.wxLogin(a.phoneNumber)}},wxLogin:function(e){var t=this;return(0,n.default)(regeneratorRuntime.mark((function a(){var i,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(uni.getStorageSync("manager")&&(t.manager=uni.getStorageSync("manager")),console.log(t.manager),!t.manager){a.next=10;break}return a.next=5,t.$fetch(t.$api.wxLogin,{mobile:e,openId:t.openid,manager:t.manager},"GET");case 5:i=a.sent,uni.showToast({icon:"none",title:i.msg}),0!=i.code&&1001!=i.code||(t.$emit("close",!1),t.$emit("token",i.data.token)),a.next=15;break;case 10:return a.next=12,t.$fetch(t.$api.wxLogin,{mobile:e,openId:t.openid},"GET");case 12:n=a.sent,uni.showToast({icon:"none",title:n.msg}),0!=n.code&&1001!=n.code||(t.$emit("close",!1),t.$emit("token",n.data.token));case 15:case"end":return a.stop()}}),a)})))()},getCode:function(){var e=this;uni.login({provider:"weixin",success:function(t){t.code&&(e.code=t.code,e.getOpenId())}})},getOpenId:function(){var e=this;return(0,n.default)(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$fetch(e.$api.getOpenId,{js_code:e.code},"GET");case 2:a=t.sent,e.openid=a.data.openid,uni.setStorageSync("openId",e.openid),e.session_key=a.data.session_key,uni.setStorageSync("session_key",e.session_key);case 7:case"end":return t.stop()}}),t)})))()}},created:function(){this.getCode()}};t.default=r},"2acf":function(e,t,a){var i=a("24fb");t=i(!1),t.push([e.i,".Modal[data-v-6cf1dbf2]{width:%?620?%;height:%?350?%;position:fixed;top:%?450?%;left:%?60?%;right:%?60?%;background:#fff;z-index:101;border-radius:%?8?%}.Modal > uni-view[data-v-6cf1dbf2]:first-child{width:%?560?%;text-align:center;font-size:%?40?%;margin:%?30?% %?30?%;color:#5b5b5b;font-weight:700;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column}.Modal > uni-view:first-child > uni-text[data-v-6cf1dbf2]:last-child{font-size:%?28?%;color:#a6a6a6;margin-top:%?30?%;font-weight:100}.Modal > uni-view[data-v-6cf1dbf2]:nth-child(2){width:%?620?%;margin-top:%?60?%;height:%?110?%}.Modal > uni-view:nth-child(2) uni-button[data-v-6cf1dbf2]{margin:0 %?30?%;width:%?560?%;height:%?110?%;border-radius:%?55?%;background:#874a89;font-size:%?28?%;line-height:%?110?%;color:#fff}\n/* 遮罩 */.mask[data-v-6cf1dbf2]{position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,.6);z-index:100;-webkit-transition:all .3s ease-in-out;transition:all .3s ease-in-out;opacity:0;visibility:hidden}.maskShow[data-v-6cf1dbf2]{opacity:1;visibility:visible}",""]),e.exports=t},"2eb9":function(e,t,a){"use strict";a.r(t);var i=a("acdb"),n=a("62c2");for(var o in n)"default"!==o&&function(e){a.d(t,e,(function(){return n[e]}))}(o);a("8170");var r,d=a("f0c5"),s=Object(d["a"])(n["default"],i["b"],i["c"],!1,null,"485756d2",null,!1,i["a"],r);t["default"]=s.exports},"495e":function(e,t,a){var i=a("2acf");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var n=a("4f06").default;n("92b5b7fa",i,!0,{sourceMap:!1,shadowMode:!1})},5049:function(e,t,a){var i=a("234c");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var n=a("4f06").default;n("b216207c",i,!0,{sourceMap:!1,shadowMode:!1})},"62c2":function(e,t,a){"use strict";a.r(t);var i=a("cd6c"),n=a.n(i);for(var o in i)"default"!==o&&function(e){a.d(t,e,(function(){return i[e]}))}(o);t["default"]=n.a},"6ee6":function(e,t,a){var i=a("24fb");t=i(!1),t.push([e.i,"uni-page-body[data-v-485756d2]{background:#f7f7f7}.videList[data-v-485756d2]{width:%?690?%;background:#fff;margin:%?30?% %?30?% 0 %?30?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;border-radius:2px}.videList > uni-view[data-v-485756d2]:first-child{width:%?650?%;height:%?376?%;margin:%?20?% %?20?%}.videList > uni-view:first-child uni-video[data-v-485756d2]{width:%?650?%;height:%?376?%}.videList > uni-view[data-v-485756d2]:nth-child(2){width:%?650?%;font-size:17px;color:#030303;letter-spacing:-.41px;margin:0 %?20?%;word-break:break-all;text-overflow:ellipsis;overflow:hidden;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical}.videList > uni-view[data-v-485756d2]:nth-child(3){width:%?650?%;margin:%?10?% %?20?% 0 %?20?%;padding-bottom:%?20?%;font-size:12px;color:#a2a2a2;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:end;-webkit-justify-content:flex-end;justify-content:flex-end}.button[data-v-485756d2]{width:%?100?%;height:%?100?%;border-radius:50%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;color:#fff;background:#874a98;position:fixed;bottom:%?50?%;left:%?30?%;margin-bottom:var(--window-top);box-shadow:0 %?2?% %?10?% %?2?% rgba(65,56,133,.1)}.button uni-view[data-v-485756d2]{width:%?100?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;font-size:%?28?%;color:#fff}body.?%PAGE?%[data-v-485756d2]{background:#f7f7f7}",""]),e.exports=t},"7b7e":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={name:"UniLoadMore",props:{status:{type:String,default:"more"},showIcon:{type:Boolean,default:!0},color:{type:String,default:"#777777"},contentText:{type:Object,default:function(){return{contentdown:"上拉显示更多",contentrefresh:"正在加载...",contentnomore:"没有更多数据了"}}}},data:function(){return{}}};t.default=i},8170:function(e,t,a){"use strict";var i=a("1627"),n=a.n(i);n.a},acdb:function(e,t,a){"use strict";var i={uniLoadMore:a("0be9").default,getApp:a("1bde").default},n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-uni-view",[e._l(e.videoList,(function(t,i){return a("v-uni-view",{key:i,staticClass:"videList"},[a("v-uni-view",[a("v-uni-video",{attrs:{src:t.url,controls:!0}})],1),a("v-uni-view",[e._v(e._s(t.name))]),a("v-uni-view",[e._v(e._s(t.createTime))])],1)})),a("uni-load-more",{attrs:{status:e.status,contentText:e.contentText}}),a("loginModal",{attrs:{show:e.modalShow},on:{close:function(t){arguments[0]=t=e.$handleEvent(t),e.modalClose.apply(void 0,arguments)},token:function(t){arguments[0]=t=e.$handleEvent(t),e.getToken.apply(void 0,arguments)}}}),a("getApp")],2)},o=[];a.d(t,"b",(function(){return n})),a.d(t,"c",(function(){return o})),a.d(t,"a",(function(){return i}))},b6802:function(e,t,a){"use strict";function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,i=new Array(t);a<t;a++)i[a]=e[a];return i}a.d(t,"a",(function(){return i}))},b83e:function(e,t,a){"use strict";a.r(t);var i=a("ba7e"),n=a("ca8e");for(var o in n)"default"!==o&&function(e){a.d(t,e,(function(){return n[e]}))}(o);a("c416");var r,d=a("f0c5"),s=Object(d["a"])(n["default"],i["b"],i["c"],!1,null,"6cf1dbf2",null,!1,i["a"],r);t["default"]=s.exports},ba7e:function(e,t,a){"use strict";var i,n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-uni-view",[e.show?a("v-uni-view",{staticClass:"Modal"},[a("v-uni-view",[a("v-uni-text",[e._v("授权提醒")]),a("v-uni-text",[e._v("请点击授权，授权后可继续浏览")])],1),a("v-uni-view",[a("v-uni-button",{attrs:{"open-type":"getPhoneNumber"},on:{getphonenumber:function(t){arguments[0]=t=e.$handleEvent(t),e.GetPhoneNumber.apply(void 0,arguments)}}},[e._v("授权手机号")])],1)],1):e._e(),a("v-uni-view",{staticClass:"mask",class:{maskShow:!0===e.show},attrs:{catchtouchmove:"true"}})],1)},o=[];a.d(t,"b",(function(){return n})),a.d(t,"c",(function(){return o})),a.d(t,"a",(function(){return i}))},c416:function(e,t,a){"use strict";var i=a("495e"),n=a.n(i);n.a},ca8e:function(e,t,a){"use strict";a.r(t);var i=a("249f"),n=a.n(i);for(var o in i)"default"!==o&&function(e){a.d(t,e,(function(){return i[e]}))}(o);t["default"]=n.a},cd6c:function(e,t,a){"use strict";var i=a("ee27");a("99af"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(a("d0ff"));a("96cf");var o=i(a("c964")),r=i(a("0be9")),d=i(a("b83e")),s={data:function(){return{videoList:[],page:0,hasFlag:!0,status:"loading",contentText:{contentdown:"查看更多",contentrefresh:"加载中",contentnomore:"没有更多了"},manager:"",userId:"",path:"",title:"视频列表",modalShow:!1}},components:{uniLoadMore:r.default,loginModal:d.default},methods:{getVideoList:function(){var e=this;return(0,o.default)(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.hasFlag){t.next=2;break}return t.abrupt("return");case 2:return e.page=++e.page,t.next=5,e.$fetch(e.$api.getVideoList,{pageNum:e.page,pageSize:10},"GET","form");case 5:a=t.sent,e.hasFlag=10*e.page<a.total,e.hasFlag||(e.status="noMore"),e.videoList=[].concat((0,n.default)(e.videoList),(0,n.default)(a.rows)),console.log(a);case 10:case"end":return t.stop()}}),t)})))()},goBackHome:function(){uni.switchTab({url:"../home/home"})},modalClose:function(e){this.modalShow=e},getToken:function(e){uni.setStorageSync("token",e),uni.setStorageSync("isAdmin",!1),uni.setStorageSync("isToken",!0),this.isToken=!0}},onLoad:function(e){var t=this;e.userId&&(this.manager=e.userId,uni.setStorageSync("manager",e.userId),uni.getStorageSync("isAdmin")||uni.getStorageSync("isToken")||setTimeout((function(){t.modalShow=!0}),1e3)),this.getVideoList()},onShow:function(){uni.getStorageSync("isAdmin")&&uni.getStorageSync("userId")&&(this.userId=uni.getStorageSync("userId"))},onShareAppMessage:function(){return this.path="pages/video/video?userId="+this.userId,ops.from,{title:this.title,path:this.path}},onReachBottom:function(){this.getVideoList()},onPullDownRefresh:function(){this.page=0,this.videoList=[],this.status="loading",this.hasFlag=!0,this.getVideoList(),uni.stopPullDownRefresh()}};t.default=s},d0ff:function(e,t,a){"use strict";a.r(t);var i=a("b6802");function n(e){if(Array.isArray(e))return Object(i["a"])(e)}a("a4d3"),a("e01a"),a("d28b"),a("a630"),a("e260"),a("d3b7"),a("3ca3"),a("ddb0");function o(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}var r=a("dde1");function d(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(e){return n(e)||o(e)||Object(r["a"])(e)||d()}a.d(t,"default",(function(){return s}))},dde1:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));a("a630"),a("fb6a"),a("d3b7"),a("25f0"),a("3ca3");var i=a("b6802");function n(e,t){if(e){if("string"===typeof e)return Object(i["a"])(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(a):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?Object(i["a"])(e,t):void 0}}}}]);