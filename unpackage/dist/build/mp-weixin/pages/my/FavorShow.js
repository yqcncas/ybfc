(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/my/FavorShow"],{"50ac":function(e,t,n){"use strict";n.r(t);var o=n("5616"),a=n.n(o);for(var s in o)"default"!==s&&function(e){n.d(t,e,(function(){return o[e]}))}(s);t["default"]=a.a},5616:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n("4795"));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t,n,o,a,s,i){try{var u=e[s](i),r=u.value}catch(l){return void n(l)}u.done?t(r):Promise.resolve(r).then(o,a)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(o,a){var i=e.apply(t,n);function u(e){s(i,o,a,u,r,"next",e)}function r(e){s(i,o,a,u,r,"throw",e)}u(void 0)}))}}var u=function(){Promise.all([n.e("common/vendor"),n.e("components/mescroll-uni/mescroll-uni")]).then(function(){return resolve(n("7497"))}.bind(null,n)).catch(n.oe)},r=function(){n.e("components/uni-load-more/uni-load-more").then(function(){return resolve(n("0be9"))}.bind(null,n)).catch(n.oe)},l={name:"myRecord",components:{MescrollUni:u,uniLoadMore:r},data:function(){return{downOption:{auto:!1},tabList:[{id:1,name:"二手房"},{id:2,name:"新房"},{id:3,name:"租房"}],tabCurrentIndex:0,homeList:[],page:0,houseType:2,type:1,hasFlag:!0,status:"loading",contentText:{contentdown:"查看更多",contentrefresh:"加载中",contentnomore:"没有更多了"},top:"90rpx",isEmpty:!1,isAdmin:!1,favoriteId:"",manager:"",shareTitle:""}},methods:{changeTab:function(e){this.tabCurrentIndex!==e&&(this.tabCurrentIndex=e)},swiperChange:function(e){this.tabCurrentIndex=e.target.current,0==this.tabCurrentIndex?this.houseType=2:1==this.tabCurrentIndex?this.houseType=3:this.houseType=1,this.page=0,this.hasFlag=!0,this.status="loading",this.homeList=[],this.getCollectList()},getCollectList:function(){var e=this;return i(o.default.mark((function t(){var n;return o.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.hasFlag){t.next=2;break}return t.abrupt("return");case 2:return e.page=++e.page,t.next=5,e.$fetch(e.$api.getShareCollect,{pageNum:e.page,pageSize:10,houseType:e.houseType,type:e.type,favoriteId:e.favoriteId},"GET");case 5:n=t.sent,console.log(n),n.total?e.isEmpty=!1:e.isEmpty=!0,e.hasFlag=10*e.page<n.total,e.hasFlag||(e.status="noMore"),3!=e.houseType?n.rows.forEach((function(t){t.oldHouse.picUrl?t.oldHouse.showImg=t.oldHouse.picUrl.split(",")[0]:t.oldHouse.showImg="https://img.bajiaostar.com/FnwyfqiIK3_RD5UR1k66KQ_y0VFx",t.oldHouse.label&&(t.oldHouse.label=t.oldHouse.label.split(",")),e.homeList.push(t)})):n.rows.forEach((function(t){t.newArea.picUrl?t.newArea.showImg=t.newArea.picUrl.split(",")[0]:t.newArea.showImg="https://img.bajiaostar.com/FnwyfqiIK3_RD5UR1k66KQ_y0VFx",t.newArea.label&&(t.newArea.label=t.newArea.label.split(",")),e.homeList.push(t)}));case 11:case"end":return t.stop()}}),t)})))()},loadMore:function(){this.hasFlag?this.getCollectList():this.status="noMore"},downCallback:function(e){this.page=0,this.hasFlag=!0,this.status="loading",this.homeList=[],this.getCollectList(),e.endSuccess()},checkDetail:function(t){2==this.houseType?this.manager?e.navigateTo({url:"../oldHouse/oldHouse?houseId="+t+"&houseType=2&flag=1&userId="+this.manager}):e.navigateTo({url:"../oldHouse/oldHouse?houseId="+t+"&houseType=2"}):1==this.houseType?this.manager?e.navigateTo({url:"../oldHouse/oldHouse?houseId="+t+"&houseType=1&flag=1&userId="+this.manager}):e.navigateTo({url:"../oldHouse/oldHouse?houseId="+t+"&houseType=1"}):3==this.houseType&&(this.manager?e.navigateTo({url:"../newHouse/newHouse?houseId="+t+"&houseType=3&flag=1&userId="+this.manager}):e.navigateTo({url:"../newHouse/newHouse?houseId="+t+"&houseType=3"}))}},onLoad:function(t){this.favoriteId=t.id,this.shareTitle=t.name,t.manager&&(this.manager=t.manager,e.setStorageSync("manager",this.manager)),e.setNavigationBarTitle({title:t.name}),this.getCollectList()},onShow:function(){e.getStorageSync("isAdmin")&&(this.isAdmin=e.getStorageSync("isAdmin"))}};t.default=l}).call(this,n("543d")["default"])},"837d":function(e,t,n){"use strict";var o=n("bfe1"),a=n.n(o);a.a},"907e":function(e,t,n){"use strict";(function(e){n("ceaf");o(n("66fd"));var t=o(n("fbbd"));function o(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,n("543d")["createPage"])},a9f9:function(e,t,n){"use strict";var o={mescrollUni:function(){return Promise.all([n.e("common/vendor"),n.e("components/mescroll-uni/mescroll-uni")]).then(n.bind(null,"7497"))},uniLoadMore:function(){return n.e("components/uni-load-more/uni-load-more").then(n.bind(null,"0be9"))},uEmpty:function(){return Promise.all([n.e("common/vendor"),n.e("node-modules/uview-ui/components/u-empty/u-empty")]).then(n.bind(null,"e7e0"))}},a=function(){var e=this,t=e.$createElement;e._self._c},s=[];n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return o}))},bfe1:function(e,t,n){},fbbd:function(e,t,n){"use strict";n.r(t);var o=n("a9f9"),a=n("50ac");for(var s in a)"default"!==s&&function(e){n.d(t,e,(function(){return a[e]}))}(s);n("837d");var i,u=n("f0c5"),r=Object(u["a"])(a["default"],o["b"],o["c"],!1,null,null,null,!1,o["a"],i);t["default"]=r.exports}},[["907e","common/runtime","common/vendor"]]]);