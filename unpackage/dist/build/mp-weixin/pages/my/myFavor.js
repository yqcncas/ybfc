(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/my/myFavor"],{"0219":function(e,t,n){"use strict";(function(e){n("ceaf");o(n("66fd"));var t=o(n("152f"));function o(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,n("543d")["createPage"])},"152f":function(e,t,n){"use strict";n.r(t);var o=n("e3f3"),i=n("7f1a");for(var a in i)"default"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);n("8286");var r,u=n("f0c5"),c=Object(u["a"])(i["default"],o["b"],o["c"],!1,null,null,null,!1,o["a"],r);t["default"]=c.exports},"7f1a":function(e,t,n){"use strict";n.r(t);var o=n("d3d4"),i=n.n(o);for(var a in o)"default"!==a&&function(e){n.d(t,e,(function(){return o[e]}))}(a);t["default"]=i.a},8286:function(e,t,n){"use strict";var o=n("eb05"),i=n.n(o);i.a},d3d4:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n("4795"));function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n,o,i,a,r){try{var u=e[a](r),c=u.value}catch(s){return void n(s)}u.done?t(c):Promise.resolve(c).then(o,i)}function r(e){return function(){var t=this,n=arguments;return new Promise((function(o,i){var r=e.apply(t,n);function u(e){a(r,o,i,u,c,"next",e)}function c(e){a(r,o,i,u,c,"throw",e)}u(void 0)}))}}var u=function(){n.e("components/tui-swipe-action/tui-swipe-action").then(function(){return resolve(n("72de"))}.bind(null,n)).catch(n.oe)},c={data:function(){return{actions:[{name:"删除",color:"#fff",fontsize:30,width:70,background:"#FD3B31"},{name:"编辑",color:"#fff",fontsize:30,width:70,background:"#5677fc"}],favoritesList:[],addShow:!1,favoritesName:"",editShow:!1,editFavoritesName:"",favoriteId:"",manager:""}},components:{tuiSwipeAction:u},methods:{handlerButton:function(e){console.log(e);var t=e.index,n=e.item;0==t?this.removeFavor(n.favoriteId):1==t&&(this.favoriteId=n.favoriteId,this.editFavoritesName=n.name,this.handleShowEdit())},getFavorList:function(){var e=this;return r(o.default.mark((function t(){var n;return o.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$fetch(e.$api.favoriteList,{},"GET");case 2:n=t.sent,console.log(n),e.favoritesList=n.data;case 5:case"end":return t.stop()}}),t)})))()},removeFavor:function(t){var n=this;return r(o.default.mark((function i(){var a;return o.default.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return o.next=2,n.$fetch(n.$api.removeFavorite,{favoriteId:t},"GET");case 2:a=o.sent,console.log(a),e.showToast({icon:"none",title:a.msg}),0==a.code&&n.getFavorList();case 6:case"end":return o.stop()}}),i)})))()},handleShowAdd:function(){this.addShow=!0,this.favoritesName=""},handleCloseAdd:function(){this.addShow=!1,this.favoritesName=""},handleAddFavor:function(){var t=this;return r(o.default.mark((function n(){var i;return o.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.$fetch(t.$api.addFavorite,{name:t.favoritesName},"GET");case 2:i=n.sent,console.log(i),e.showToast({icon:"none",title:i.msg}),0==i.code&&(t.addShow=!1,t.favoritesName="",t.getFavorList());case 6:case"end":return n.stop()}}),n)})))()},handleShowEdit:function(){this.editShow=!0},handleCloseEdit:function(){this.editShow=!1,this.editShowedit},handleEditFavor:function(){var t=this;return r(o.default.mark((function n(){var i;return o.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.$fetch(t.$api.editFavorite,{favoriteId:t.favoriteId,name:t.editFavoritesName},"GET");case 2:i=n.sent,console.log(i),e.showToast({icon:"none",title:i.msg}),0==i.code&&(t.editShow=!1,t.editFavoritesName="",t.favoriteId="",t.getFavorList());case 6:case"end":return n.stop()}}),n)})))()},handleToFavor:function(t,n){console.log(t),e.navigateTo({url:"myRecord?type=1&name="+n+"&id="+t+"&manager="+this.manager})}},onLoad:function(){e.getStorageSync("isAdmin")&&(this.manager=e.getStorageSync("userId")),this.getFavorList()}};t.default=c}).call(this,n("543d")["default"])},e3f3:function(e,t,n){"use strict";var o={tuiSwipeAction:function(){return n.e("components/tui-swipe-action/tui-swipe-action").then(n.bind(null,"72de"))},uPopup:function(){return n.e("node-modules/uview-ui/components/u-popup/u-popup").then(n.bind(null,"6b9d"))}},i=function(){var e=this,t=e.$createElement;e._self._c},a=[];n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return o}))},eb05:function(e,t,n){}},[["0219","common/runtime","common/vendor"]]]);