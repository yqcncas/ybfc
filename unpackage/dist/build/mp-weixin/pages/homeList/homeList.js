(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/homeList/homeList"],{"263d":function(e,t,i){},"36cc":function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=o(i("4795"));function o(e){return e&&e.__esModule?e:{default:e}}function n(e){return u(e)||h(e)||a(e)||r()}function r(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function a(e,t){if(e){if("string"===typeof e)return c(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(i):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?c(e,t):void 0}}function h(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function u(e){if(Array.isArray(e))return c(e)}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,s=new Array(t);i<t;i++)s[i]=e[i];return s}function l(e,t,i,s,o,n,r){try{var a=e[n](r),h=a.value}catch(u){return void i(u)}a.done?t(h):Promise.resolve(h).then(s,o)}function g(e){return function(){var t=this,i=arguments;return new Promise((function(s,o){var n=e.apply(t,i);function r(e){l(n,s,o,r,a,"next",e)}function a(e){l(n,s,o,r,a,"throw",e)}r(void 0)}))}}var d=function(){i.e("components/drop-choose/drop-choose").then(function(){return resolve(i("96ae"))}.bind(null,i)).catch(i.oe)},m=function(){i.e("components/uni-load-more/uni-load-more").then(function(){return resolve(i("0be9"))}.bind(null,i)).catch(i.oe)},p=function(){Promise.all([i.e("common/vendor"),i.e("components/mescroll-uni/mescroll-uni")]).then(function(){return resolve(i("7497"))}.bind(null,i)).catch(i.oe)},v=function(){Promise.all([i.e("common/vendor"),i.e("components/Modal/loginModal")]).then(function(){return resolve(i("b83e"))}.bind(null,i)).catch(i.oe)},f={name:"homeList",components:{dropChoose:d,uniLoadMore:m,MescrollUni:p,loginModal:v},data:function(){return{content:"",top:"196rpx",hasFlag:!0,status:"loading",contentText:{contentdown:"查看更多",contentrefresh:"加载中",contentnomore:"没有更多"},downOption:{auto:!1},isEmpty:!1,page:0,tab:[{id:1,name:"区域"},{id:2,name:"售价"},{id:3,name:"房型"},{id:4,name:"面积"},{id:6,name:"排序"}],homeType:"",houseType:"",homeList:[],areaId:"",beginAcreage:"",beginBuildNum:"",beginLevel:"",beginPrice:"",endAcreage:"",endBuildNum:"",endLevel:"",endPrice:"",province:"",roomNum:"",room1:"",beginUnitPrice:"",endUnitPrice:"",area:"",city:"",isAdmin:!1,title:"",path:"",userId:"",modalShow:!1,manager:"",sortUnitPrice:"",sortPublish:"",sortPrice:"",sortLevel:"",sortAcreage:"",renovation:"",type:"",elevator:"",sdistrict:0}},methods:{setTitle:function(){1==this.homeType&&(this.title="二手房",e.setNavigationBarTitle({title:"二手房"})),2==this.homeType&&(this.title="新房",e.setNavigationBarTitle({title:"新房"})),3==this.homeType&&(this.title="租房",e.setNavigationBarTitle({title:"租房"})),4==this.homeType&&(this.title="学区房",e.setNavigationBarTitle({title:"学区房"}))},getOnlyEntrust:function(){var e=this;return g(s.default.mark((function t(){var i;return s.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.hasFlag){t.next=2;break}return t.abrupt("return");case 2:return e.page=++e.page,t.next=5,e.$fetch(e.$api.oldHouseCondition2,{areaId:e.areaId,beginAcreage:e.beginAcreage,beginBuildNum:e.beginBuildNum,beginLevel:e.beginLevel,beginPrice:e.beginPrice,endAcreage:e.endAcreage,endBuildNum:e.endBuildNum,endLevel:e.endLevel,endPrice:e.endPrice,pageNum:e.page,province:e.province,roomNum:e.roomNum,houseName:e.content,room1:e.room1,sortUnitPrice:e.sortUnitPrice,sortPublish:e.sortPublish,sortPrice:e.sortPrice,sortLevel:e.sortLevel,sortAcreage:e.sortAcreage,renovation:e.renovation,type:e.type,elevator:e.elevator,pageSize:10,sdistrict:e.sdistrict},"GET");case 5:i=t.sent,i.rows.forEach((function(e){e.picUrl?e.houseImg=e.picUrl.split(",")[0]:e.houseImg="https://img.bajiaostar.com/FnwyfqiIK3_RD5UR1k66KQ_y0VFx",e.label&&(e.label=e.label.split(","))})),i.total?e.isEmpty=!1:e.isEmpty=!0,e.homeList=[].concat(n(e.homeList),n(i.rows)),e.hasFlag=10*e.page<i.total,e.hasFlag||(e.status="noMore");case 11:case"end":return t.stop()}}),t)})))()},getNewHouseList:function(){var e=this;return g(s.default.mark((function t(){var i;return s.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.hasFlag){t.next=2;break}return t.abrupt("return");case 2:return e.page=++e.page,t.next=5,e.$fetch(e.$api.areaCondition,{beginAcreage:e.beginAcreage,beginUnitPrice:e.beginUnitPrice,endAcreage:e.endAcreage,endUnitPrice:e.endUnitPrice,pageNum:e.page,province:e.province,areaName:e.content,room1:e.room1,pageSize:10},"GET");case 5:i=t.sent,i.rows.forEach((function(e){e.picUrl?e.houseImg=e.picUrl.split(",")[0]:e.houseImg="https://img.bajiaostar.com/FnwyfqiIK3_RD5UR1k66KQ_y0VFx",e.label&&(e.label=e.label.split(","))})),i.total?e.isEmpty=!1:e.isEmpty=!0,e.homeList=[].concat(n(e.homeList),n(i.rows)),e.hasFlag=10*e.page<i.total,e.hasFlag||(e.status="noMore");case 11:case"end":return t.stop()}}),t)})))()},getOldHouseList:function(){var e=this;return g(s.default.mark((function t(){var i;return s.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.hasFlag){t.next=2;break}return t.abrupt("return");case 2:return e.page=++e.page,t.next=5,e.$fetch(e.$api.oldHouseCondition1,{beginAcreage:e.beginAcreage,beginBuildNum:e.beginBuildNum,beginLevel:e.beginLevel,beginRental:e.beginUnitPrice,endAcreage:e.endAcreage,endBuildNum:e.endBuildNum,endLevel:e.endLevel,endRental:e.endUnitPrice,pageNum:e.page,province:e.province,roomNum:e.roomNum,houseName:e.content,room1:e.room1,sortUnitPrice:e.sortUnitPrice,sortPublish:e.sortPublish,sortPrice:e.sortPrice,sortLevel:e.sortLevel,sortAcreage:e.sortAcreage,renovation:e.renovation,type:e.type,elevator:e.elevator,pageSize:10},"GET");case 5:i=t.sent,i.rows.forEach((function(e){e.picUrl?e.houseImg=e.picUrl.split(",")[0]:e.houseImg="https://img.bajiaostar.com/FnwyfqiIK3_RD5UR1k66KQ_y0VFx",e.label&&(e.label=e.label.split(","))})),i.total?e.isEmpty=!1:e.isEmpty=!0,e.homeList=[].concat(n(e.homeList),n(i.rows)),e.hasFlag=10*e.page<i.total,e.hasFlag||(e.status="noMore");case 11:case"end":return t.stop()}}),t)})))()},loadMore:function(){this.hasFlag?1==this.houseType?this.getOnlyEntrust():2==this.houseType?this.getNewHouseList():3==this.houseType&&this.getOldHouseList():this.status="noMore"},downCallback:function(e){this.page=0,this.hasFlag=!0,this.status="loading",this.homeList=[],1==this.houseType?this.getOnlyEntrust():2==this.houseType?this.getNewHouseList():3==this.houseType&&this.getOldHouseList(),e.endSuccess()},regionChoose:function(e){this.page=0,this.hasFlag=!0,this.status="loading",this.homeList=[],this.province=e,1==this.houseType?this.getOnlyEntrust():2==this.houseType?this.getNewHouseList():3==this.houseType&&this.getOldHouseList()},priceChoose:function(e){this.page=0,this.hasFlag=!0,this.status="loading",this.homeList=[],1==this.houseType?(this.beginPrice=e[0],this.endPrice=e[1]):(this.beginUnitPrice=e[0],this.endUnitPrice=e[1]),1==this.houseType?this.getOnlyEntrust():2==this.houseType?this.getNewHouseList():3==this.houseType&&this.getOldHouseList()},typeChoose:function(e){this.page=0,this.hasFlag=!0,this.status="loading",this.homeList=[],this.room1=e,1==this.houseType?this.getOnlyEntrust():2==this.houseType?this.getNewHouseList():3==this.houseType&&this.getOldHouseList()},sizeChoose:function(e){this.page=0,this.hasFlag=!0,this.status="loading",this.homeList=[],this.beginAcreage=e[0],this.endAcreage=e[1],1==this.houseType?this.getOnlyEntrust():2==this.houseType?this.getNewHouseList():3==this.houseType&&this.getOldHouseList()},searchHome:function(){this.page=0,this.hasFlag=!0,this.status="loading",this.homeList=[],1==this.houseType?this.getOnlyEntrust():2==this.houseType?this.getNewHouseList():3==this.houseType&&this.getOldHouseList()},clear:function(){this.content="",this.page=0,this.hasFlag=!0,this.status="loading",this.homeList=[],1==this.houseType?this.getOnlyEntrust():2==this.houseType?this.getNewHouseList():3==this.houseType&&this.getOldHouseList()},moreChoose:function(e){console.log(e),this.beginBuildNum=e[0],this.endBuildNum=e[1],this.beginLevel=e[2],this.endLevel=e[3],this.roomNum=e[4],this.renovation=e[5],this.elevator=e[6],this.type=e[7],this.page=0,this.hasFlag=!0,this.status="loading",this.homeList=[],1==this.houseType?this.getOnlyEntrust():2==this.houseType?this.getNewHouseList():3==this.houseType&&this.getOldHouseList()},checkDetail:function(t){1==this.houseType?this.manager?e.navigateTo({url:"../oldHouse/oldHouse?houseId="+t+"&houseType=2&flag=1&userId="+this.manager}):e.navigateTo({url:"../oldHouse/oldHouse?houseId="+t+"&houseType=2"}):3==this.houseType?this.manager?e.navigateTo({url:"../oldHouse/oldHouse?houseId="+t+"&houseType=1&flag=1&userId="+this.manager}):e.navigateTo({url:"../oldHouse/oldHouse?houseId="+t+"&houseType=1"}):2==this.houseType&&(this.manager?e.navigateTo({url:"../newHouse/newHouse?houseId="+t+"&houseType=3&flag=1&userId="+this.manager}):e.navigateTo({url:"../newHouse/newHouse?houseId="+t+"&houseType=3"}))},goMapSearch:function(){1==this.houseType?e.navigateTo({url:"../mapSearch/mapSearch?index=0"}):2==this.houseType?e.navigateTo({url:"../mapSearch/mapSearch?index=2"}):3==this.houseType&&e.navigateTo({url:"../mapSearch/mapSearch?index=1"})},modalClose:function(e){this.modalShow=e},getToken:function(t){e.setStorageSync("token",t),e.setStorageSync("isAdmin",!1),e.setStorageSync("isToken",!0),this.isToken=!0},sortChoose:function(e){this.page=0,this.hasFlag=!0,this.status="loading",this.homeList=[],1==e?(this.sortAcreage="",this.sortLevel="",this.sortPrice="",this.sortPublish="",this.sortUnitPrice=""):2==e?(this.sortAcreage="",this.sortLevel="",this.sortPrice="",this.sortUnitPrice="",this.sortPublish="desc"):3==e?(this.sortAcreage="",this.sortLevel="",this.sortPrice="",this.sortPublish="",this.sortUnitPrice="asc"):4==e?(this.sortAcreage="",this.sortLevel="",this.sortPrice="",this.sortPublish="",this.sortUnitPrice="desc"):5==e?(this.sortAcreage="asc",this.sortLevel="",this.sortPrice="",this.sortPublish="",this.sortUnitPrice=""):6==e?(this.sortAcreage="desc",this.sortLevel="",this.sortPrice="",this.sortPublish="",this.sortUnitPrice=""):7==e?(this.sortAcreage="",this.sortLevel="",this.sortPrice="asc",this.sortPublish="",this.sortUnitPrice=""):8==e?(this.sortAcreage="",this.sortLevel="",this.sortPrice="desc",this.sortPublish="",this.sortUnitPrice=""):9==e?(this.sortAcreage="",this.sortLevel="asc",this.sortPrice="",this.sortPublish="",this.sortUnitPrice=""):10==e&&(this.sortAcreage="",this.sortLevel="desc",this.sortPrice="",this.sortPublish="",this.sortUnitPrice=""),1==this.houseType?this.getOnlyEntrust():2==this.houseType?this.getNewHouseList():3==this.houseType&&this.getOldHouseList()}},onLoad:function(t){var i=this;this.homeType=t.id,t.areaId&&(this.areaId=t.areaId),t.beginAcreage&&(this.beginAcreage=t.beginAcreage),t.beginBuildNum&&(this.beginBuildNum=t.beginBuildNum),t.beginLevel&&(this.beginLevel=t.beginLevel),t.beginPrice&&(this.beginPrice=t.beginPrice),t.endAcreage&&(this.endAcreage=t.endAcreage),t.endBuildNum&&(this.endBuildNum=t.endBuildNum),t.endLevel&&(this.endLevel=t.endLevel),t.endPrice&&(this.endPrice=t.endPrice),t.province&&(this.province=t.province),t.roomNum&&(this.roomNum=t.roomNum),t.houseName&&(this.content=t.houseName),t.room1&&(this.room1=t.room1),t.beginUnitPrice&&(this.beginUnitPrice=t.beginUnitPrice),t.endUnitPrice&&(this.endUnitPrice=t.endUnitPrice),t.sortAcreage&&(this.sortAcreage=t.sortAcreage),t.sortLevel&&(this.sortLevel=t.sortLevel),t.sortUnitPrice&&(this.sortUnitPrice=t.sortUnitPrice),t.sortPrice&&(this.sortPrice=t.sortPrice),t.sortPublish&&(this.sortPublish=t.sortPublish),t.renovation&&(this.renovation=t.renvation),t.elevator&&(this.elevator=t.elevator),t.type&&(this.type=t.type),t.sdistrict&&(this.sdistrict=t.sdistrict),t.areaName&&(this.content=t.areaName),t.manager?(e.setStorageSync("manager",t.manager),this.manager=t.manager,e.getStorageSync("isToken")||setTimeout((function(){i.modalShow=!0}),1e3)):e.getStorageSync("manager")&&(this.manager=e.getStorageSync("manager"),console.log(this.manager)),4==this.homeType?(this.houseType=1,this.sdistrict=1,this.area="330302",this.city="33030201",this.province="33030201"):this.houseType=t.id,this.setTitle()},onShow:function(){1==this.houseType?this.getOnlyEntrust():2==this.houseType?this.getNewHouseList():3==this.houseType&&this.getOldHouseList(),e.getStorageSync("manager")||(this.manager=""),e.getStorageSync("isAdmin")&&(this.isAdmin=e.getStorageSync("isAdmin"),this.isAdmin?2!=this.houseType?this.tab=[{id:1,name:"区域"},{id:2,name:"售价"},{id:3,name:"房型"},{id:4,name:"面积"},{id:5,name:"更多"},{id:6,name:"排序"}]:this.tab=[{id:1,name:"区域"},{id:2,name:"售价"},{id:3,name:"房型"},{id:4,name:"面积"}]:2!=this.houseType?this.tab=[{id:1,name:"区域"},{id:2,name:"售价"},{id:3,name:"房型"},{id:4,name:"面积"},{id:6,name:"排序"}]:this.tab=[{id:1,name:"区域"},{id:2,name:"售价"},{id:3,name:"房型"},{id:4,name:"面积"}]),e.getStorageSync("userId")&&(this.userId=e.getStorageSync("userId"))},onShareAppMessage:function(e){return this.path="pages/homeList/homeList?id="+this.homeType+"&areaId="+this.areaId+"&beginAcreage="+this.beginAcreage+"&beginBuildNum="+this.beginBuildNum+"&beginLevel="+this.beginLevel+"&beginPrice="+this.beginPrice+"&endAcreage="+this.endAcreage+"&endBuildNum="+this.endBuildNum+"&endLevel="+this.endLevel+"&endPrice="+this.endPrice+"&province="+this.province+"&roomNum="+this.roomNum+"&houseName="+this.content+"&room1="+this.room1+"&beginUnitPrice="+this.beginUnitPrice+"&endUnitPrice="+this.endUnitPrice+"&areaName="+this.content+"&manager="+this.userId+"&sortUnitPrice="+this.sortUnitPrice+"&sortPrice="+this.sortPrice+"&sortPublish="+this.sortPublish+"&sortLevel="+this.sortLevel+"&sortAcreage="+this.sortAcreage+"&renovation="+this.renovation+"&elevator="+this.elevator+"&type="+this.type+"&sdistrict="+this.sdistrict,console.log(this.path),e.from,{title:this.title,path:this.path}}};t.default=f}).call(this,i("543d")["default"])},"6b7f":function(e,t,i){"use strict";i.r(t);var s=i("36cc"),o=i.n(s);for(var n in s)"default"!==n&&function(e){i.d(t,e,(function(){return s[e]}))}(n);t["default"]=o.a},"74a0":function(e,t,i){"use strict";var s=i("263d"),o=i.n(s);o.a},d021:function(e,t,i){"use strict";var s={mescrollUni:function(){return Promise.all([i.e("common/vendor"),i.e("components/mescroll-uni/mescroll-uni")]).then(i.bind(null,"7497"))},uniLoadMore:function(){return i.e("components/uni-load-more/uni-load-more").then(i.bind(null,"0be9"))},uEmpty:function(){return Promise.all([i.e("common/vendor"),i.e("node-modules/uview-ui/components/u-empty/u-empty")]).then(i.bind(null,"e7e0"))}},o=function(){var e=this,t=e.$createElement;e._self._c},n=[];i.d(t,"b",(function(){return o})),i.d(t,"c",(function(){return n})),i.d(t,"a",(function(){return s}))},d5ff:function(e,t,i){"use strict";(function(e){i("ceaf");s(i("66fd"));var t=s(i("f5f2"));function s(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,i("543d")["createPage"])},f5f2:function(e,t,i){"use strict";i.r(t);var s=i("d021"),o=i("6b7f");for(var n in o)"default"!==n&&function(e){i.d(t,e,(function(){return o[e]}))}(n);i("74a0");var r,a=i("f0c5"),h=Object(a["a"])(o["default"],s["b"],s["c"],!1,null,null,null,!1,s["a"],r);t["default"]=h.exports}},[["d5ff","common/runtime","common/vendor"]]]);